<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name ="description" content="Extend GoCD's functionality. Implement GoCD plugins for SCMs, tasks, notifications, authentication, package repositories, elastic agents and authorization." />
    <meta name ="keywords" content="gocd plugins, plugins for gocd, extension points, open source gocd, open source continuous delivery" />
    <link href="../images/gocd.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="../images/gocd.png" rel="apple-touch-icon" type="image/png" size="192x192" />
    <title>GoCD plugins bundle API reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sa {
  color: #ae81ff;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" media="print" />

      <script src="../javascripts/all.js"></script>


      <script>
        $(function() {
          setupLanguages([]);
        });
      </script>
  </head>

  <body class="plugin-structure plugin-structure_index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" alt="" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="../images/logo.png" alt="" />
        <div class="lang-selector">
        </div>
      <div class="version-switcher">
        <span class="version-label">Switch version:</span>
        <select class="version"></select>
      </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/gocd/plugin-api.go.cd'>Edit this guide on GitHub</a></li>
            <li><a href='https://api.gocd.org'>GoCD API Documentation</a></li>
            <li><a href='https://docs.gocd.org'>GoCD User Documentation</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="structure-of-a-gocd-plugin">Structure of a GoCD Plugin</h1>

<p>Plugins in GoCD are implemented in Java and packaged as a JAR file.</p>

<h2 id="directory-structure-conventions">Directory Structure Conventions</h2>

<div class="highlight"><pre class="highlight plaintext"><code>plugin.jar
|
|-- plugin.xml
|-- com
|   \-- example
|       \-- go
|           \-- testplugin
|               \-- ExampleExtension.class
|               \-- x.class
|               \-- y.class
\-- lib
    \-- dependency-1.jar
    \-- dependency-2.jar
</code></pre></div>

<p>The plugin jar is a self contained-jar. It is expected to contain the following inside it:</p>

<ol>
<li><strong>Plugin XML(<code class="prettyprint">plugin.xml</code>):</strong> The <a href="#the-plugin-xml">metadata</a> of your plugin.</li>
<li><strong>Java Classes:</strong> 

<ul>
<li>The <a href="#example-extension-class">plugin extension classes</a> e.g. <code class="prettyprint">ExampleExtension.class</code> in the example shown </li>
<li>Any other classes used by the in the plugin.</li>
</ul></li>
<li><strong>Dependencies:</strong> Any optional <a href="#dependencies">dependencies</a> your plugin may requires (inside the <code class="prettyprint">lib</code>).</li>
</ol>

<p><a id='the-plugin-metadata'></a></p>

<h2 id="the-plugin-xml">The Plugin XML</h2>

<p>This is an XML file that should be present in the plugin jar file at the top level.</p>

<p>You can find the XML Schema for the plugins in the  <a href="https://github.com/gocd/gocd/blob/master/plugin-infra/go-plugin-api/src/main/resources/plugin-descriptor.xsd">main repository</a>.</p>

<blockquote>
<p>Here is an example <code class="prettyprint">plugin.xml</code>:</p>
</blockquote>

<div class="highlight"><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
<span class="c">&lt;!-- Your plugin id and version
     of this XML document, the
     version must be set to "1" --&gt;</span>
<span class="nt">&lt;go-plugin</span>
  <span class="na">id=</span><span class="s">"com.example.rocket.launcher"</span>
  <span class="na">version=</span><span class="s">"1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;about&gt;</span>
    <span class="c">&lt;!-- The name of your plugin --&gt;</span>
    <span class="nt">&lt;name&gt;</span>Launches rockets<span class="nt">&lt;/name&gt;</span>
    <span class="c">&lt;!--  The version of your plugin --&gt;</span>
    <span class="nt">&lt;version&gt;</span>0.0.1<span class="nt">&lt;/version&gt;</span>
    <span class="c">&lt;!-- The minimum version of GoCD that this plugin requires --&gt;</span>
    <span class="nt">&lt;target-go-version&gt;</span>19.1.0<span class="nt">&lt;/target-go-version&gt;</span>
    <span class="c">&lt;!-- A longer description of your plugin  --&gt;</span>
    <span class="nt">&lt;description&gt;</span>Launches rockets, spaceships and other things to a destination of your choice.<span class="nt">&lt;/description&gt;</span>

    <span class="c">&lt;!-- Tell us who you are --&gt;</span>
    <span class="nt">&lt;vendor&gt;</span>
      <span class="nt">&lt;name&gt;</span>ACME Corp<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;url&gt;</span>https://www.example.com<span class="nt">&lt;/url&gt;</span>
    <span class="nt">&lt;/vendor&gt;</span>

    <span class="c">&lt;!-- If this plugin only supports certain OSes --&gt;</span>
    <span class="nt">&lt;target-os&gt;</span>
      <span class="nt">&lt;value&gt;</span>Linux<span class="nt">&lt;/value&gt;</span>
      <span class="nt">&lt;value&gt;</span>Windows<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/target-os&gt;</span>
  <span class="nt">&lt;/about&gt;</span>
<span class="nt">&lt;/go-plugin&gt;</span>
</code></pre></div>

<h2 id="example-skeleton-plugins">Example/Skeleton plugins</h2>

<ol>
<li><a href="https://github.com/gocd/docker-registry-artifact-plugin">Artifact Plugin</a></li>
<li><a href="https://github.com/gocd-contrib/authorization-skeleton-plugin">Authorization Plugin</a></li>
<li><a href="https://github.com/gocd-contrib/elastic-agent-skeleton-plugin">Elastic Agent Plugin</a></li>
<li><a href="https://github.com/gocd-contrib/notification-skeleton-plugin">Notification Plugin</a></li>
<li><a href="https://github.com/gocd-contrib/secrets-skeleton-plugin">Secrets Plugin</a></li>
<li><a href="https://github.com/gocd-contrib/task-skeleton-plugin">Task Plugin</a></li>
<li><a href="https://github.com/gocd-contrib/analytics-skeleton-plugin">Analytics Plugin</a></li>
</ol>

<h1 id="structure-of-a-plugins-bundle">Structure of a Plugins Bundle</h1>

<p>Starting from GoCD version 19.11.0, it allows developer to package multiple plugins in a bundle. e.g. It allows developer
to package all GitHub plugins in a bundle which may use the same libraries. This will allows users to just download one
jar instead downloading various jars for each extensions.</p>

<h2 id="directory-structure-conventions">Directory Structure Conventions</h2>

<div class="highlight"><pre class="highlight plaintext"><code>bundle.jar
|
|-- gocd-bundle.xml
|-- com
|   \-- example
|       \-- go
|           \-- test_plugin_1
|               \-- ExampleSCMExtension.class
|               \-- ExampleSecretsExtension.class
|               \-- x.class
|               \-- y.class
|
|-- com
|   \-- example
|       \-- go
|           \-- test_plugin_2
|               \-- ExampleNotificationExtension.class
|               \-- x.class
|               \-- y.class
|
\-- lib
    \-- shared-dependency-1.jar
    \-- shared-dependency-2.jar
</code></pre></div>

<p>The bundle jar is a self contained-jar. It is expected to contain the following inside it:</p>

<ol>
<li><strong>Bundle XML(<code class="prettyprint">gocd-bundle.xml</code>):</strong> The <a href="#the-bundle-xml">metadata</a> of your plugin. </li>
<li><strong>Plugins:</strong> Each plugin with the <a href="#example-extension-class">plugin extension class</a> 

<ul>
<li><code class="prettyprint">ExampleSCMPlugin.class</code>, <code class="prettyprint">ExampleSecretsExtension.class</code> and <code class="prettyprint">ExampleNotificationPlugin.class</code> in 
the example shown) and any other classes that form your plugin.</li>
</ul></li>
<li><strong>Dependencies:</strong> Any shared <a href="#dependencies">dependencies</a> for all bundles (inside the <code class="prettyprint">lib</code>)</li>
</ol>

<h2 id="the-bundle-xml">The Bundle XML</h2>

<p>This is an XML file that should be present in the bundle jar at the top level. You can find the XML Schema for the plugins in the <a href="https://github.com/gocd/gocd/blob/master/plugin-infra/go-plugin-api/src/main/resources/gocd-bundle-descriptor.xsd">main repository</a>.</p>

<blockquote>
<p>Example <code class="prettyprint">gocd-bundle.xml</code></p>
</blockquote>

<div class="highlight"><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;gocd-bundle</span> <span class="na">version=</span><span class="s">"1"</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- Allows to register multiple plugins and each of the plugin can have one or more extensions --&gt;</span>  
  <span class="nt">&lt;plugins&gt;</span>
    <span class="c">&lt;!-- The id of your first plugin --&gt;</span>
    <span class="nt">&lt;plugin</span> <span class="na">id=</span><span class="s">"id-of-the-plugin-1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;about&gt;</span>
        <span class="c">&lt;!-- The name of your plugin --&gt;</span>
        <span class="nt">&lt;name&gt;</span>Example Git SCM plugin<span class="nt">&lt;/name&gt;</span>
        <span class="c">&lt;!--  The version of your plugin --&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.0.0<span class="nt">&lt;/version&gt;</span>
        <span class="c">&lt;!-- A longer description of your plugin  --&gt;</span>
        <span class="nt">&lt;description&gt;</span>Allows to example git SCM as material<span class="nt">&lt;/description&gt;</span>
        <span class="c">&lt;!-- The minimum version of GoCD that this plugin requires --&gt;</span>
        <span class="nt">&lt;target-go-version&gt;</span>19.11.0<span class="nt">&lt;/target-go-version&gt;</span>

        <span class="c">&lt;!-- If this plugin only supports certain OSes --&gt;</span>
        <span class="nt">&lt;target-os&gt;</span>
          <span class="nt">&lt;value&gt;</span>Linux<span class="nt">&lt;/value&gt;</span>
          <span class="nt">&lt;value&gt;</span>Windows<span class="nt">&lt;/value&gt;</span>
        <span class="nt">&lt;/target-os&gt;</span>
        <span class="nt">&lt;vendor&gt;</span>
          <span class="nt">&lt;name&gt;</span>ACME Corp<span class="nt">&lt;/name&gt;</span>
          <span class="nt">&lt;url&gt;</span>https://www.example.com<span class="nt">&lt;/url&gt;</span>
        <span class="nt">&lt;/vendor&gt;</span>
      <span class="nt">&lt;/about&gt;</span>
      <span class="c">&lt;!-- Register extension classes in the plugin --&gt;</span>  
      <span class="nt">&lt;extensions&gt;</span>
        <span class="nt">&lt;extension</span> <span class="na">class=</span><span class="s">"com.example.go.test_plugin_1.ExampleSCMPlugin"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;extension</span> <span class="na">class=</span><span class="s">"com.example.go.test_plugin_1.ExampleSecretsExtension"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/extensions&gt;</span>
    <span class="nt">&lt;/plugin&gt;</span>

    <span class="c">&lt;!-- The id of your second plugin --&gt;</span>
    <span class="nt">&lt;plugin</span> <span class="na">id=</span><span class="s">"id-of-the-plugin-2"</span><span class="nt">&gt;</span>
      ...
    <span class="nt">&lt;/plugin&gt;</span>
  <span class="nt">&lt;/plugins&gt;</span>
<span class="nt">&lt;/gocd-bundle&gt;</span>
</code></pre></div>

<p>The GoCD server will look for the <code class="prettyprint">gocd-bundle.xml</code> in the jar and uses it to load the plugins. The XML also allows developer 
to register class(es) as extensions and unregister extension classes will be ignored by the server.</p>

<h2 id="examples">Examples</h2>

<ol>
<li><a href="https://github.com/gocd-contrib/gocd-docker-plugins-bundle">Docker bundle</a></li>
<li><a href="https://github.com/gocd-contrib/gocd-github-plugins-bundle">Github bundle</a></li>
</ol>

<h1 id="dependencies">Dependencies</h1>

<blockquote>
<p>Add this to your maven <code class="prettyprint">pom.xml</code>:</p>
</blockquote>

<div class="highlight"><pre class="highlight xml"><code><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>cd.go.plugin<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>go-plugin-api<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>GOCD_VERSION<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>

<p>In order to use the plugin extension class, you must add <code class="prettyprint">go-plugin-api</code> as dependency.
Where replace <code class="prettyprint">GOCD_VERSION</code> with the actual version. You can find the available versions of the library in <a href="https://mvnrepository.com/artifact/cd.go.plugin/go-plugin-api">maven central</a>.</p>

<blockquote>
<p>Add this to your <code class="prettyprint">build.gradle</code> under dependencies section:</p>
</blockquote>

<div class="highlight"><pre class="highlight groovy"><code><span class="n">dependencies</span> <span class="o">{</span>
  <span class="n">compileOnly</span> <span class="nl">group:</span> <span class="s1">'cd.go.plugin'</span><span class="o">,</span> <span class="nl">name:</span> <span class="s1">'go-plugin-api'</span><span class="o">,</span> <span class="nl">version:</span> <span class="s1">'GOCD_VERSION'</span>
<span class="o">}</span>
</code></pre></div>

<p>Any dependencies that your plugin requires, should go into the <code class="prettyprint">lib</code> directory inside the plugin JAR.</p>

<h2 id="example-extension-class">Example extension class</h2>

<div class="highlight"><pre class="highlight java"><code><span class="kn">package</span> <span class="nn">com.example.go.testplugin</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.thoughtworks.go.plugin.api.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.thoughtworks.go.plugin.api.annotation.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.thoughtworks.go.plugin.api.exceptions.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.thoughtworks.go.plugin.api.request.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.thoughtworks.go.plugin.api.response.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gson.Gson</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="nd">@Extension</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleExtension</span> <span class="kd">implements</span> <span class="nc">GoPlugin</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="nc">GoApplicationAccessor</span> <span class="n">accessor</span><span class="o">;</span>

  <span class="c1">// this method is executed once at startup</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initializeGoApplicationAccessor</span><span class="o">(</span><span class="nc">GoApplicationAccessor</span> <span class="n">accessor</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">accessor</span> <span class="o">=</span> <span class="n">accessor</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="c1">// a GoPluginIdentifier tells GoCD what kind of a plugin this is</span>
  <span class="c1">// and what version(s) of the request/response API it supports</span>
  <span class="kd">public</span> <span class="nc">GoPluginIdentifier</span> <span class="nf">pluginIdentifier</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">GoPluginIdentifier</span><span class="o">(</span><span class="s">"&lt;%= plugin_type %&gt;"</span><span class="o">,</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"&lt;%= endpoint_version %&gt;"</span><span class="o">));</span>
  <span class="o">}</span>

  <span class="c1">// handle the request and return a response</span>
  <span class="c1">// the response is very much like a HTTP response —</span>
  <span class="c1">// it has a status code, a response body and optional headers</span>
  <span class="kd">public</span> <span class="nc">GoPluginApiResponse</span> <span class="nf">handle</span><span class="o">(</span><span class="nc">GoPluginApiRequest</span> <span class="n">request</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">UnhandledRequestTypeException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">requestName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"go.plugin-settings.get-view"</span><span class="o">))</span> <span class="o">{</span>
      <span class="nc">String</span> <span class="n">viewHtml</span> <span class="o">=</span> <span class="n">read</span><span class="o">(</span><span class="n">getClass</span><span class="o">().</span><span class="na">getResourceAsStream</span><span class="o">(</span><span class="s">"/plugin-settings.template.html"</span><span class="o">));</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nf">DefaultGoPluginApiResponse</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="n">viewHtml</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">requestName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"go.plugin-settings.validate-configuration"</span><span class="o">))</span> <span class="o">{</span>
      <span class="nc">List</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">validate</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nf">DefaultGoPluginApiResponse</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Gson</span><span class="o">().</span><span class="na">toJson</span><span class="o">(</span><span class="n">errors</span><span class="o">));</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">UnhandledRequestTypeException</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">requestName</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>

<p>The plugin extension class is a Java class that implements the <code class="prettyprint">GoPlugin</code> interface.</p>

<p>The other types in the example are:</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">GoApplicationAccessor</code></td>
<td>So that the plugin can make requests to the GoCD application to get additional information that is not provided by each request. For example, the plugin can ask for settings, credentials etc.</td>
</tr>
<tr>
<td><code class="prettyprint">GoPluginIdentifier</code></td>
<td>Provides information about the type of plugin and the version of the request/response it supports.</td>
</tr>
<tr>
<td><code class="prettyprint">GoPluginApiRequest</code></td>
<td>Represents the request message sent from GoCD to a plugin. The message will have a name and an optional JSON request body and the version of the extension.</td>
</tr>
<tr>
<td><code class="prettyprint">GoPluginApiResponse</code></td>
<td>Represents the response message as a result of processing the <code class="prettyprint">GoPluginApiRequest</code>. Similar to <code class="prettyprint">GoPluginApiRequest</code>, the response will have a status code and an optional JSON response body.</td>
</tr>
</tbody></table>

<p>If you&rsquo;re familiar with http request/responses handled by a web application, you will find this very familiar.</p>

<aside class="notice">
  GoCD has built in support for allowing plugins to enhance their capabilities in the future without having to break compatibility. This is achieved by ensuring that each extension-point and messages that is sent to the plugin is versioned.
</aside>

<p><a id='the-plugin-dependencies'></a></p>

<h1 id="logging">Logging</h1>

<blockquote>
<p>An example for plugin logging:</p>
</blockquote>

<div class="highlight"><pre class="highlight java"><code><span class="kn">package</span> <span class="nn">com.example.go.testplugin</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.thoughtworks.go.plugin.api.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.thoughtworks.go.plugin.api.logging.Logger</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gson.Gson</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="nd">@Extension</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleExtension</span> <span class="kd">implements</span> <span class="nc">GoPlugin</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">Logger</span> <span class="no">LOG</span> <span class="o">=</span> <span class="nc">Logger</span><span class="o">.</span><span class="na">getLoggerFor</span><span class="o">(</span><span class="nc">ExampleExtension</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
  <span class="kd">private</span> <span class="nc">GoApplicationAccessor</span> <span class="n">accessor</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nc">GoPluginApiResponse</span> <span class="nf">handle</span><span class="o">(</span><span class="nc">GoPluginApiRequest</span> <span class="n">request</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">UnhandledRequestTypeException</span> <span class="o">{</span>
    <span class="no">LOG</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"Request from server: "</span> <span class="o">+</span> <span class="n">request</span><span class="o">.</span><span class="na">requestName</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>

<p>Plugins can optionally log events to a log file. Plugin logging is supported by <code class="prettyprint">com.thoughtworks.go.plugin.api.logging.Logger</code> class, the Logger class should be available on including the <code class="prettyprint">go-plugin-api</code> dependency as mentioned earlier.</p>

<h2 id="log-location">Log location</h2>

<p>Each plugin will have a separate log file and the name of the log file will be in the format <code class="prettyprint">plugin-&lt;plugin_id&gt;.log</code>. The location of the plugin log file will be the same as the location of the GoCD server logs.</p>

<h2 id="log-level">Log level</h2>

<p>The default log level for a plugin is <code class="prettyprint">info</code>. The log level can be controlled using a Java system property which should be provided to the GoCD server.</p>

<p>The system property to control the log level is specific to each plugin and is of the format <code class="prettyprint">plugin.&lt;plugin_id&gt;.log.level=&lt;log_level&gt;</code>. The log level can be either of <code class="prettyprint">info</code>, <code class="prettyprint">debug</code>, <code class="prettyprint">warn</code>, <code class="prettyprint">error</code>.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
          </div>
      </div>
    </div>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48357651-2', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>
